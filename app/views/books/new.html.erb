<div data-turbo="false" data-controller="sections">
  <div class="text-center mb-4 py-3 bg-gromada-light-gray">–ü–µ—Ä–µ–¥ —Ç–∏–º —è–∫ –æ–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –∫–Ω–∏–≥—É, –±—É–¥—å –ª–∞—Å–∫–∞, –æ–∑–Ω–∞–π–æ–º—Ç–µ—Å—å –∑ <a class="text-gromada-green">–Ω–∞—à–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏</a></div>

  <div class="mb-4 flex place-content-center align-items-center">
    <input type="radio" id="book" name="section" class="hidden" data-action="input->sections#book" checked />
    <label class="mx-2" for="book">
      <div class="my-2 flex place-content-center align-items-center create-book-section">
        <img src="../icons/book.svg" class="click-svg"/>
        <span class="text-lg">–ö–Ω–∏–≥–∞</span>
      </div>
      <div class="hidden bg-gromada-green selected-line"></div>
    </label>
    <input type="radio" id="rewards" name="section" class="hidden" data-action="input->sections#rewards" />
    <label class="mx-2" for="rewards">
      <div class="my-2 flex place-content-center align-items-center create-book-section">
        <img src="../icons/reward.svg" class="click-svg"/>
        <span class="text-lg">–ù–∞–≥–æ—Ä–æ–¥–∏</span>
      </div>
      <div class="hidden bg-gromada-green selected-line"></div>
    </label>
    <input type="radio" id="contacts" name="section" class="hidden" data-action="input->sections#contacts" />
    <label class="mx-2" for="contacts">
      <div class="my-2 flex place-content-center align-items-center create-book-section">
        <img src="../icons/contact.svg" class="click-svg"/>
        <span class="text-lg">–ö–æ–Ω—Ç–∞–∫—Ç–∏</span>
      </div>
      <div class="hidden bg-gromada-green selected-line"></div>
    </label>
  </div>

  <%= render "shared/error_messages", resource: @book %>
  <%= form_with model: @book do |f| %>
    <div class="flex place-content-center">
      <div id="book_section" class="w-[40%]">
        <h1 class="text-4xl text-center font-extrabold">–ü—Ä–æ –∫–Ω–∏–≥—É</h1>
        <%= f.label :book_url, "–ö–Ω–∏–≥–∞*", class: "text-xl"%><br />
        <%= f.text_field :book_url, class: "w-full" %>
        <p class="text-sm text-gromada-gray mt-[1px] mb-4">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ Google –î–∏—Å–∫ —á–∏ —ñ–Ω—à–∏–π —Ñ–∞–π–ª–æ–æ–±–º—ñ–Ω–Ω–∏–∫</p>

        <%= f.label :name, "–ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏*", class: "text-xl"%><br />
        <%= f.text_field :name, class: "mb-4 w-full" %><br />

        <div data-controller="show-limit">
        <%= f.label :short_description, "–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –∫–Ω–∏–≥–∏*", class: "text-xl" %><br />
        <%= f.text_field :short_description, "maxLength": "300", class: "w-full", data: { show_limit_target: "field", action: "input->show-limit#update" } %>
        <p data-show-limit-target="text" class="text-gromada-gray mt-[1px] mb-4">0/300</p>
        </div>

        <%= f.label :cover, "–û–±–∫–ª–∞–¥–∏–Ω–∫–∞*", class: "text-xl"%><br />
        <div class="cursor-pointer border-dashed border-[1.5px] p-5 flex rounded-md border-gromada-gray dropzone dropzone-default dz-clickable" data-controller="dropzone" data-dropzone-max-file-size="2" data-dropzone-max-files="1">
          <%= f.file_field :cover, direct_upload: true, data: { dropzone_target: 'input' } %>
          <div class="flex dropzone-msg text-gray-600 needsclick dz-message">
            <%= image_tag "upload.svg", class: "pr-5" %>
            <div>
              <h3 class="text-xs dropzone-msg-title">–û–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª, –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –π–æ–≥–æ —Å—é–¥–∏</h3>
              <span class="text-xs text-gromada-gray dropzone-msg-desc text-sm">–§–∞–π–ª —Ñ–æ—Ä–º–∞—Ç—É png, jpg –Ω–µ –±—ñ–ª—å—à–µ 2 MB</span>
            </div>
            <div class="font-bold p-2 content-center text-sm text-gromada-dark-green">–û–±—Ä–∞—Ç–∏ —Ñ–∞–π–ª</div>
          </div>
        </div>

        <div data-controller="multiselect" data-multiselect-items-value='[{ "value": "cuckoo", "text": "Cuckoo üê¶"}, { "value": "macaw", "text": "Macaw ü¶ú"}, { "value": "rooster", "text": "Rooster üêì"}]' data-placeholder="Search for birds...">
          <select multiple="multiple" class="multiselect__hidden" data-multiselect-target="hidden" name="form[test_ids][]" id="form_test_ids"></select>
        </div>
      </div>

      <div id="rewards_section" class="hidden w-[40%]">
        <h1 class="text-4xl text-center font-extrabold">–ù–∞–≥–æ—Ä–æ–¥–∏</h1>
        <%= f.fields_for :rewards do |reward| %>
          <%= reward.label :donation_size, "–î–æ–Ω–∞—Ç*", class: "text-xl"%><br />
          <%= reward.text_field :donation_size, class: "mb-4 w-full", placeholder: "‚Ç¥" %><br />
          
          <div class="border border-gromada-gray p-4">
            <%= reward.label :item_name, "–ü—Ä–µ–¥–º–µ—Ç*", class: "text-xl"%><br />
            <%= reward.text_field :item_name, class: "mb-4 w-full" %><br />

            <%= reward.label :picture, "–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)", class: "text-xl"%><br />
            <%= reward.file_field :picture, class: "mb-4 w-full"%><br />

            <%= reward.label :description, "–û–ø–∏—Å (–Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)", class: "text-xl"%><br />
            <%= reward.text_field :description, class: "mb-4 w-full"%><br />
          </div>
        <% end %>
      </div>

      <div id="contacts_section" class="hidden w-[40%]">

      </div>
    </div>
    <div class="flex place-content-center">
      <%= f.submit %>
    </div>
  <% end %>
</div>